dist: trusty
sudo: required

language: php

php:
  - 7.0

jdk:
  - oraclejdk8

addons:
  sonarqube:
    token: $SONAR_TOKEN
  apt:
    packages:
      - oracle-java8-installer

before_script:
  - export JAVA_HOME=/usr/lib/jvm/java-8-oracle

script:
  - php -l *.php
  - sonar-scanner -X


cache:
  directories:
    - '$HOME/.sonar/cache'
